<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>角色创建 - 吾家有女初长成</title>
    <!-- Tailwind CSS v3 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- 自定义Tailwind配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#D4A574',
                        secondary: '#E6B888',
                        accent: '#C8553D',
                        light: '#F9F3E9',
                        dark: '#5D4037',
                        muted: '#A1887F'
                    },
                    fontFamily: {
                        sans: ['Noto Sans SC', 'sans-serif'],
                        serif: ['Noto Serif SC', 'serif']
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .text-shadow {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            }
            .scroll-container {
                background-image: url('https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/360095ab1196484cb2b634e94bf4427b~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702139&x-signature=QkSIRT%2F0Eado5JBWZt3d3G59XEQ%3D');
                background-size: contain;
                background-repeat: no-repeat;
                background-position: center;
            }
            .nav-item {
                @apply relative px-4 py-2 text-dark hover:text-accent transition-colors duration-300;
            }
            .nav-item::after {
                content: '';
                @apply absolute bottom-0 left-0 w-0 h-0.5 bg-accent transition-all duration-300;
            }
            .nav-item:hover::after {
                @apply w-full;
            }
            .btn-primary {
                @apply bg-accent text-white px-6 py-3 rounded-lg shadow-lg hover:bg-opacity-90 transition-all duration-300 transform hover:scale-105;
            }
            .btn-secondary {
                @apply bg-primary text-dark px-6 py-3 rounded-lg shadow-lg hover:bg-opacity-90 transition-all duration-300 transform hover:scale-105;
            }
            .card {
                @apply bg-white bg-opacity-90 rounded-xl shadow-lg p-6 transition-all duration-300 hover:shadow-xl;
            }
            .attribute-bar {
                @apply h-2 bg-gray-200 rounded-full overflow-hidden;
            }
            .attribute-fill {
                @apply h-full bg-primary transition-all duration-500;
            }
            .character-card {
                @apply relative overflow-hidden rounded-xl shadow-lg transition-all duration-300 hover:shadow-xl cursor-pointer;
            }
            .character-card.selected {
                @apply ring-4 ring-accent;
            }
            .character-overlay {
                @apply absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center opacity-0 hover:opacity-100;
            }
            .character-card.selected .character-overlay {
                @apply bg-opacity-20 opacity-100;
            }
        }
    </style>
</head>
<body class="bg-light font-serif text-dark min-h-screen bg-cover bg-fixed" style="background-image: url('https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/360095ab1196484cb2b634e94bf4427b~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702139&x-signature=QkSIRT%2F0Eado5JBWZt3d3G59XEQ%3D'); background-size: cover; background-position: center;">
    <!-- 导航栏 -->
    <header class="bg-light bg-opacity-90 shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <!-- Logo -->
            <div class="flex items-center">
                <a href="index.html">
                    <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/83fdc46a4e064461ab31728abbf3934b~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702130&x-signature=2CETffZhAKbw%2Fj%2FRbg6rBznQqws%3D" alt="吾家有女初长成" class="h-12">
                </a>
            </div>
            
            <!-- 导航菜单 -->
            <nav class="hidden md:flex space-x-2">
                <a href="index.html" class="nav-item">首页</a>
                <a href="index.html#about" class="nav-item">游戏介绍</a>
                <a href="api-config.html" class="nav-item">API接口配置</a>
                <a href="index.html#author" class="nav-item">作者信息</a>
            </nav>
            
            <!-- 移动端菜单按钮 -->
            <button id="mobile-menu-button" class="md:hidden text-dark text-2xl">
                <i class="fa fa-bars"></i>
            </button>
        </div>
        
        <!-- 移动端菜单 -->
        <div id="mobile-menu" class="md:hidden hidden bg-light shadow-lg absolute w-full">
            <div class="container mx-auto px-4 py-2 flex flex-col space-y-2">
                <a href="index.html" class="nav-item">首页</a>
                <a href="index.html#about" class="nav-item">游戏介绍</a>
                <a href="api-config.html" class="nav-item">API接口配置</a>
                <a href="index.html#author" class="nav-item">作者信息</a>
            </div>
        </div>
    </header>

    <!-- 主内容区 -->
    <main class="container mx-auto px-4 py-8">
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-accent mb-2">角色创建</h1>
            <p class="text-lg">随机生成你的古代身份，开始你的人生之旅</p>
        </div>
        
        <!-- 随机生成按钮 -->
        <div class="flex justify-center mb-8">
            <button id="randomize-all" class="btn-primary flex items-center">
                <i class="fa fa-random mr-2"></i>重新随机所有
            </button>
        </div>
        
        <!-- 家族设定 -->
        <div class="card mb-8">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold text-dark">家族设定</h2>
                <button id="randomize-family" class="btn-secondary py-1 px-3 text-sm">
                    <i class="fa fa-refresh mr-1"></i>重新随机
                </button>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <div class="bg-light p-4 rounded-lg">
                    <h3 class="text-sm text-muted mb-1">朝代</h3>
                    <p id="dynasty" class="text-lg font-bold">明朝</p>
                </div>
                <div class="bg-light p-4 rounded-lg">
                    <h3 class="text-sm text-muted mb-1">年号</h3>
                    <p id="year-name" class="text-lg font-bold">永乐</p>
                </div>
                <div class="bg-light p-4 rounded-lg">
                    <h3 class="text-sm text-muted mb-1">姓氏</h3>
                    <p id="family-name" class="text-lg font-bold">李</p>
                </div>
                <div class="bg-light p-4 rounded-lg">
                    <h3 class="text-sm text-muted mb-1">身份</h3>
                    <p id="family-status" class="text-lg font-bold">书香门第</p>
                </div>
                <div class="bg-light p-4 rounded-lg">
                    <h3 class="text-sm text-muted mb-1">资产</h3>
                    <p id="family-assets" class="text-lg font-bold">中等</p>
                </div>
                <div class="bg-light p-4 rounded-lg">
                    <h3 class="text-sm text-muted mb-1">家风</h3>
                    <p id="family-style" class="text-lg font-bold">诗书传家</p>
                </div>
            </div>
        </div>
        
        <!-- 主角选择 -->
        <div class="card mb-8">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold text-dark">选择主角</h2>
                <button id="randomize-character" class="btn-secondary py-1 px-3 text-sm">
                    <i class="fa fa-refresh mr-1"></i>重新随机
                </button>
            </div>
            
            <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-6">
                <!-- 角色卡片1 -->
                <div class="character-card selected" data-index="0">
                    <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/25f6d868340543d188f2d150151b7263~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702164&x-signature=I7ihkLdA5cCdRuJwTvTMoroFWhk%3D" alt="大姐" class="w-full h-40 object-cover">
                    <div class="p-3 bg-white">
                        <h3 class="font-bold">李昭华</h3>
                        <p class="text-sm text-muted">大姐 · 16岁</p>
                    </div>
                    <div class="character-overlay">
                        <div class="bg-white bg-opacity-80 p-2 rounded-lg">
                            <i class="fa fa-check-circle text-accent text-2xl"></i>
                        </div>
                    </div>
                </div>
                
                <!-- 角色卡片2 -->
                <div class="character-card" data-index="1">
                    <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/25f6d868340543d188f2d150151b7263~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702164&x-signature=I7ihkLdA5cCdRuJwTvTMoroFWhk%3D" alt="二姐" class="w-full h-40 object-cover">
                    <div class="p-3 bg-white">
                        <h3 class="font-bold">李昭仪</h3>
                        <p class="text-sm text-muted">二姐 · 15岁</p>
                    </div>
                    <div class="character-overlay">
                        <div class="bg-white bg-opacity-80 p-2 rounded-lg">
                            <i class="fa fa-check-circle text-accent text-2xl"></i>
                        </div>
                    </div>
                </div>
                
                <!-- 角色卡片3 -->
                <div class="character-card" data-index="2">
                    <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/25f6d868340543d188f2d150151b7263~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702164&x-signature=I7ihkLdA5cCdRuJwTvTMoroFWhk%3D" alt="三姐" class="w-full h-40 object-cover">
                    <div class="p-3 bg-white">
                        <h3 class="font-bold">李昭容</h3>
                        <p class="text-sm text-muted">三姐 · 14岁</p>
                    </div>
                    <div class="character-overlay">
                        <div class="bg-white bg-opacity-80 p-2 rounded-lg">
                            <i class="fa fa-check-circle text-accent text-2xl"></i>
                        </div>
                    </div>
                </div>
                
                <!-- 角色卡片4 -->
                <div class="character-card" data-index="3">
                    <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/25f6d868340543d188f2d150151b7263~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702164&x-signature=I7ihkLdA5cCdRuJwTvTMoroFWhk%3D" alt="四姐" class="w-full h-40 object-cover">
                    <div class="p-3 bg-white">
                        <h3 class="font-bold">李昭媛</h3>
                        <p class="text-sm text-muted">四姐 · 13岁</p>
                    </div>
                    <div class="character-overlay">
                        <div class="bg-white bg-opacity-80 p-2 rounded-lg">
                            <i class="fa fa-check-circle text-accent text-2xl"></i>
                        </div>
                    </div>
                </div>
                
                <!-- 角色卡片5 -->
                <div class="character-card" data-index="4">
                    <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/25f6d868340543d188f2d150151b7263~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702164&x-signature=I7ihkLdA5cCdRuJwTvTMoroFWhk%3D" alt="五妹" class="w-full h-40 object-cover">
                    <div class="p-3 bg-white">
                        <h3 class="font-bold">李昭宁</h3>
                        <p class="text-sm text-muted">五妹 · 12岁</p>
                    </div>
                    <div class="character-overlay">
                        <div class="bg-white bg-opacity-80 p-2 rounded-lg">
                            <i class="fa fa-check-circle text-accent text-2xl"></i>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 主角详细信息 -->
            <div id="character-details" class="bg-light p-6 rounded-lg">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-xl font-bold mb-4">李昭华</h3>
                        <div class="space-y-3">
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-muted">排行</span>
                                    <span>大姐</span>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-muted">闺名</span>
                                    <span>昭华</span>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-muted">年龄</span>
                                    <span>16岁</span>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-muted">容貌</span>
                                    <span>国色天香</span>
                                </div>
                                <div class="attribute-bar">
                                    <div class="attribute-fill" style="width: 90%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold mb-4">性格与技能</h3>
                        <div class="space-y-3">
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-muted">性格</span>
                                    <span>温柔贤淑、知书达理</span>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-muted">诗词</span>
                                    <span>精通</span>
                                </div>
                                <div class="attribute-bar">
                                    <div class="attribute-fill" style="width: 85%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-muted">刺绣</span>
                                    <span>熟练</span>
                                </div>
                                <div class="attribute-bar">
                                    <div class="attribute-fill" style="width: 70%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-muted">管家</span>
                                    <span>入门</span>
                                </div>
                                <div class="attribute-bar">
                                    <div class="attribute-fill" style="width: 40%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-6">
                    <h3 class="text-xl font-bold mb-2">隐性属性</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                        <div class="bg-white p-3 rounded-lg text-center">
                            <span class="text-sm text-muted block mb-1">体质</span>
                            <span class="font-bold">中等</span>
                        </div>
                        <div class="bg-white p-3 rounded-lg text-center">
                            <span class="text-sm text-muted block mb-1">福运</span>
                            <span class="font-bold">较好</span>
                        </div>
                        <div class="bg-white p-3 rounded-lg text-center">
                            <span class="text-sm text-muted block mb-1">智计</span>
                            <span class="font-bold">较高</span>
                        </div>
                        <div class="bg-white p-3 rounded-lg text-center">
                            <span class="text-sm text-muted block mb-1">魅力</span>
                            <span class="font-bold">极高</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 核心NPC -->
        <div class="card mb-8">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold text-dark">核心NPC</h2>
                <button id="randomize-npc" class="btn-secondary py-1 px-3 text-sm">
                    <i class="fa fa-refresh mr-1"></i>重新随机
                </button>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- 父母信息 -->
                <div class="bg-light p-6 rounded-lg">
                    <h3 class="text-xl font-bold mb-4">父母</h3>
                    <div class="space-y-4">
                        <div class="flex items-start">
                            <div class="w-16 h-16 rounded-full overflow-hidden mr-4 flex-shrink-0">
                                <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/25f6d868340543d188f2d150151b7263~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702164&x-signature=I7ihkLdA5cCdRuJwTvTMoroFWhk%3D" alt="父亲" class="w-full h-full object-cover">
                            </div>
                            <div>
                                <h4 class="font-bold">李老爷</h4>
                                <p class="text-sm text-muted">45岁 · 翰林院编修</p>
                                <p class="text-sm mt-1">性格严谨，学识渊博，对子女要求严格但关爱有加。</p>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <div class="w-16 h-16 rounded-full overflow-hidden mr-4 flex-shrink-0">
                                <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/25f6d868340543d188f2d150151b7263~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702164&x-signature=I7ihkLdA5cCdRuJwTvTMoroFWhk%3D" alt="母亲" class="w-full h-full object-cover">
                            </div>
                            <div>
                                <h4 class="font-bold">王夫人</h4>
                                <p class="text-sm text-muted">40岁 · 出身官宦之家</p>
                                <p class="text-sm mt-1">温柔贤惠，持家有道，擅长刺绣和诗词，对女儿们悉心教导。</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 姐妹信息 -->
                <div class="bg-light p-6 rounded-lg">
                    <h3 class="text-xl font-bold mb-4">姐妹</h3>
                    <div class="space-y-3">
                        <div class="flex items-center">
                            <div class="w-12 h-12 rounded-full overflow-hidden mr-3 flex-shrink-0">
                                <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/25f6d868340543d188f2d150151b7263~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702164&x-signature=I7ihkLdA5cCdRuJwTvTMoroFWhk%3D" alt="二姐" class="w-full h-full object-cover">
                            </div>
                            <div>
                                <h4 class="font-bold">李昭仪</h4>
                                <p class="text-sm text-muted">15岁 · 活泼开朗，擅长舞蹈</p>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <div class="w-12 h-12 rounded-full overflow-hidden mr-3 flex-shrink-0">
                                <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/25f6d868340543d188f2d150151b7263~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702164&x-signature=I7ihkLdA5cCdRuJwTvTMoroFWhk%3D" alt="三姐" class="w-full h-full object-cover">
                            </div>
                            <div>
                                <h4 class="font-bold">李昭容</h4>
                                <p class="text-sm text-muted">14岁 · 安静内向，酷爱读书</p>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <div class="w-12 h-12 rounded-full overflow-hidden mr-3 flex-shrink-0">
                                <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/25f6d868340543d188f2d150151b7263~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702164&x-signature=I7ihkLdA5cCdRuJwTvTMoroFWhk%3D" alt="四姐" class="w-full h-full object-cover">
                            </div>
                            <div>
                                <h4 class="font-bold">李昭媛</h4>
                                <p class="text-sm text-muted">13岁 · 心灵手巧，擅长女红</p>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <div class="w-12 h-12 rounded-full overflow-hidden mr-3 flex-shrink-0">
                                <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/25f6d868340543d188f2d150151b7263~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702164&x-signature=I7ihkLdA5cCdRuJwTvTMoroFWhk%3D" alt="五妹" class="w-full h-full object-cover">
                            </div>
                            <div>
                                <h4 class="font-bold">李昭宁</h4>
                                <p class="text-sm text-muted">12岁 · 天真可爱，喜欢撒娇</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 操作按钮 -->
        <div class="flex justify-center space-x-4">
            <button id="back-to-home" class="btn-secondary">
                <i class="fa fa-arrow-left mr-2"></i>返回首页
            </button>
            <button id="start-game" class="btn-primary">
                <i class="fa fa-play mr-2"></i>开始游戏
            </button>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="bg-dark text-white py-6 px-4 mt-12">
        <div class="container mx-auto max-w-5xl">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <h3 class="text-xl font-bold mb-2">吾家有女初长成</h3>
                    <p class="text-gray-400">古风高自由度随机文字人生模拟器</p>
                </div>
                <div class="flex space-x-4">
                    <a href="index.html" class="text-gray-400 hover:text-white transition-colors">首页</a>
                    <a href="index.html#about" class="text-gray-400 hover:text-white transition-colors">游戏介绍</a>
                    <a href="api-config.html" class="text-gray-400 hover:text-white transition-colors">API接口配置</a>
                    <a href="index.html#author" class="text-gray-400 hover:text-white transition-colors">作者信息</a>
                </div>
            </div>
            <div class="mt-6 pt-6 border-t border-gray-700 text-center text-gray-400">
                <p>&copy; 2025 西一 版权所有</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // 移动端菜单切换
        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        });
        
        // 角色选择
        const characterCards = document.querySelectorAll('.character-card');
        characterCards.forEach(card => {
            card.addEventListener('click', function() {
                // 移除所有卡片的选中状态
                characterCards.forEach(c => c.classList.remove('selected'));
                // 添加当前卡片的选中状态
                this.classList.add('selected');
                
                // 这里应该有更新角色详细信息的逻辑
                const index = this.getAttribute('data-index');
                updateCharacterDetails(index);
            });
        });
        
        // 更新角色详细信息
        function updateCharacterDetails(index) {
            const names = ['李昭华', '李昭仪', '李昭容', '李昭媛', '李昭宁'];
            const ranks = ['大姐', '二姐', '三姐', '四姐', '五妹'];
            const ages = ['16岁', '15岁', '14岁', '13岁', '12岁'];
            const appearances = [
                { text: '国色天香', value: 90 },
                { text: '花容月貌', value: 85 },
                { text: '眉清目秀', value: 75 },
                { text: '小家碧玉', value: 70 },
                { text: '天真可爱', value: 65 }
            ];
            const personalities = [
                '温柔贤淑、知书达理',
                '活泼开朗、机智敏捷',
                '安静内向、心思细腻',
                '心灵手巧、勤奋踏实',
                '天真烂漫、好奇心强'
            ];
            const skills = [
                { poetry: { text: '精通', value: 85 }, embroidery: { text: '熟练', value: 70 }, housekeeping: { text: '入门', value: 40 } },
                { poetry: { text: '熟练', value: 70 }, embroidery: { text: '入门', value: 30 }, dance: { text: '精通', value: 90 } },
                { poetry: { text: '精通', value: 90 }, embroidery: { text: '熟练', value: 65 }, painting: { text: '熟练', value: 75 } },
                { poetry: { text: '入门', value: 40 }, embroidery: { text: '精通', value: 95 }, cooking: { text: '熟练', value: 80 } },
                { poetry: { text: '入门', value: 30 }, embroidery: { text: '入门', value: 40 }, music: { text: '熟练', value: 75 } }
            ];
            const attributes = [
                { constitution: '中等', luck: '较好', wisdom: '较高', charm: '极高' },
                { constitution: '较好', luck: '较高', wisdom: '中等', charm: '较高' },
                { constitution: '较弱', luck: '中等', wisdom: '极高', charm: '中等' },
                { constitution: '较高', luck: '中等', wisdom: '较高', charm: '较好' },
                { constitution: '较好', luck: '极高', wisdom: '中等', charm: '较高' }
            ];
            
            // 更新角色基本信息
            const detailsContainer = document.getElementById('character-details');
            detailsContainer.innerHTML = `
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-xl font-bold mb-4">${names[index]}</h3>
                        <div class="space-y-3">
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-muted">排行</span>
                                    <span>${ranks[index]}</span>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-muted">闺名</span>
                                    <span>${names[index].substring(1)}</span>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-muted">年龄</span>
                                    <span>${ages[index]}</span>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-muted">容貌</span>
                                    <span>${appearances[index].text}</span>
                                </div>
                                <div class="attribute-bar">
                                    <div class="attribute-fill" style="width: ${appearances[index].value}%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold mb-4">性格与技能</h3>
                        <div class="space-y-3">
                            <div>
                                <div class="flex justify-between mb-1">
                                    <span class="text-sm text-muted">性格</span>
                                    <span>${personalities[index]}</span>
                                </div>
                            </div>
            `;
            
            // 添加技能信息
            const skillKeys = Object.keys(skills[index]);
            const skillNames = {
                poetry: '诗词',
                embroidery: '刺绣',
                housekeeping: '管家',
                dance: '舞蹈',
                painting: '绘画',
                cooking: '烹饪',
                music: '音律'
            };
            
            skillKeys.forEach(skill => {
                detailsContainer.innerHTML += `
                    <div>
                        <div class="flex justify-between mb-1">
                            <span class="text-sm text-muted">${skillNames[skill]}</span>
                            <span>${skills[index][skill].text}</span>
                        </div>
                        <div class="attribute-bar">
                            <div class="attribute-fill" style="width: ${skills[index][skill].value}%"></div>
                        </div>
                    </div>
                `;
            });
            
            // 添加隐性属性
            detailsContainer.innerHTML += `
                        </div>
                    </div>
                </div>
                
                <div class="mt-6">
                    <h3 class="text-xl font-bold mb-2">隐性属性</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                        <div class="bg-white p-3 rounded-lg text-center">
                            <span class="text-sm text-muted block mb-1">体质</span>
                            <span class="font-bold">${attributes[index].constitution}</span>
                        </div>
                        <div class="bg-white p-3 rounded-lg text-center">
                            <span class="text-sm text-muted block mb-1">福运</span>
                            <span class="font-bold">${attributes[index].luck}</span>
                        </div>
                        <div class="bg-white p-3 rounded-lg text-center">
                            <span class="text-sm text-muted block mb-1">智计</span>
                            <span class="font-bold">${attributes[index].wisdom}</span>
                        </div>
                        <div class="bg-white p-3 rounded-lg text-center">
                            <span class="text-sm text-muted block mb-1">魅力</span>
                            <span class="font-bold">${attributes[index].charm}</span>
                        </div>
                    </div>
                </div>
            `;
        }
        
        // 随机生成函数
        function randomizeFamily() {
            const dynasties = ['汉朝', '唐朝', '宋朝', '元朝', '明朝', '清朝', '民国初期'];
            const yearNames = ['洪武', '永乐', '嘉靖', '万历', '崇祯', '康熙', '雍正', '乾隆', '嘉庆', '道光'];
            const familyNames = ['李', '王', '张', '刘', '陈', '杨', '赵', '黄', '周', '吴'];
            const statuses = ['书香门第', '官宦之家', '商贾巨富', '武林世家', '医道传家', '农家小康'];
            const assets = ['富裕', '中等', '小康', '清贫'];
            const styles = ['诗书传家', '清正廉洁', '乐善好施', '重商轻文', '尚武精神', '耕读传家'];
            
            document.getElementById('dynasty').textContent = dynasties[Math.floor(Math.random() * dynasties.length)];
            document.getElementById('year-name').textContent = yearNames[Math.floor(Math.random() * yearNames.length)];
            document.getElementById('family-name').textContent = familyNames[Math.floor(Math.random() * familyNames.length)];
            document.getElementById('family-status').textContent = statuses[Math.floor(Math.random() * statuses.length)];
            document.getElementById('family-assets').textContent = assets[Math.floor(Math.random() * assets.length)];
            document.getElementById('family-style').textContent = styles[Math.floor(Math.random() * styles.length)];
            
            // 更新家族姓氏后，更新所有角色的姓氏
            const familyName = document.getElementById('family-name').textContent;
            const characterNames = document.querySelectorAll('.character-card h3');
            const sisterNames = document.querySelectorAll('.bg-light h4.font-bold');
            
            characterNames.forEach((name, index) => {
                const givenName = name.textContent.substring(1);
                name.textContent = familyName + givenName;
            });
            
            sisterNames.forEach((name, index) => {
                if (index < 2) return; // 跳过父母
                const givenName = name.textContent.substring(1);
                name.textContent = familyName + givenName;
            });
            
            // 更新主角详细信息中的姓氏
            const detailsName = document.querySelector('#character-details h3.text-xl');
            const givenName = detailsName.textContent.substring(1);
            detailsName.textContent = familyName + givenName;
        }
        
        function randomizeCharacters() {
            // 随机选择一个角色作为默认选中
            const randomIndex = Math.floor(Math.random() * 5);
            characterCards.forEach((card, index) => {
                card.classList.remove('selected');
                if (index === randomIndex) {
                    card.classList.add('selected');
                    updateCharacterDetails(index);
                }
            });
        }
        
        function randomizeNPCs() {
            // 这里应该有随机生成NPC信息的逻辑
            // 为了简化，这里只随机生成父母的官职和性格描述
            const fatherJobs = ['翰林院编修', '吏部侍郎', '户部尚书', '将军', '名医', '富商', '教书先生'];
            const motherOrigins = ['出身官宦之家', '出身书香门第', '出身商贾之家', '出身农家', '出身武林世家'];
            const fatherTraits = ['性格严谨，学识渊博', '公正廉洁，刚正不阿', '豪爽大方，广交好友', '温文尔雅，知书达理', '严厉刻板，要求严格'];
            const motherTraits = ['温柔贤惠，持家有道', '精明能干，善于理财', '知书达理，精通诗词', '慈爱宽容，对子女溺爱', '严厉苛刻，治家严谨'];
            
            const fatherJob = fatherJobs[Math.floor(Math.random() * fatherJobs.length)];
            const motherOrigin = motherOrigins[Math.floor(Math.random() * motherOrigins.length)];
            const fatherTrait = fatherTraits[Math.floor(Math.random() * fatherTraits.length)];
            const motherTrait = motherTraits[Math.floor(Math.random() * motherTraits.length)];
            
            const fatherInfo = document.querySelectorAll('.bg-light p.text-sm.text-muted')[0];
            const motherInfo = document.querySelectorAll('.bg-light p.text-sm.text-muted')[1];
            const fatherDesc = document.querySelectorAll('.bg-light p.text-sm.mt-1')[0];
            const motherDesc = document.querySelectorAll('.bg-light p.text-sm.mt-1')[1];
            
            fatherInfo.textContent = `45岁 · ${fatherJob}`;
            motherInfo.textContent = `40岁 · ${motherOrigin}`;
            fatherDesc.textContent = `${fatherTrait}，对子女要求严格但关爱有加。`;
            motherDesc.textContent = `${motherTrait}，擅长刺绣和诗词，对女儿们悉心教导。`;
        }
        
        // 绑定随机生成按钮事件
        document.getElementById('randomize-family').addEventListener('click', randomizeFamily);
        document.getElementById('randomize-character').addEventListener('click', randomizeCharacters);
        document.getElementById('randomize-npc').addEventListener('click', randomizeNPCs);
        document.getElementById('randomize-all').addEventListener('click', function() {
            randomizeFamily();
            randomizeCharacters();
            randomizeNPCs();
        });
        
        // 返回首页按钮
        document.getElementById('back-to-home').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
        
        // 开始游戏按钮
        document.getElementById('start-game').addEventListener('click', function() {
            // 保存游戏初始数据
            const gameData = {
                dynasty: document.getElementById('dynasty').textContent,
                yearName: document.getElementById('year-name').textContent,
                familyName: document.getElementById('family-name').textContent,
                familyStatus: document.getElementById('family-status').textContent,
                familyAssets: document.getElementById('family-assets').textContent,
                familyStyle: document.getElementById('family-style').textContent,
                selectedCharacter: document.querySelector('.character-card.selected').getAttribute('data-index'),
                currentYear: 1,
                currentAge: 12 + parseInt(document.querySelector('.character-card.selected').getAttribute('data-index')),
                currentSeason: 0,
                gameOver: false
            };
            
            localStorage.setItem('gameData', JSON.stringify(gameData));
            
            // 跳转到游戏主界面
            window.location.href = 'game.html';
        });
    </script>
</body>
</html>
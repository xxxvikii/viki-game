<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>游戏主界面 - 吾家有女初长成</title>
    <!-- Tailwind CSS v3 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <!-- 自定义Tailwind配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#D4A574',
                        secondary: '#E6B888',
                        accent: '#C8553D',
                        light: '#F9F3E9',
                        dark: '#5D4037',
                        muted: '#A1887F',
                        success: '#4CAF50',
                        warning: '#FFC107',
                        danger: '#F44336',
                        info: '#2196F3',
                        love: '#E91E63'
                    },
                    fontFamily: {
                        sans: ['Noto Sans SC', 'sans-serif'],
                        serif: ['Noto Serif SC', 'serif']
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .text-shadow {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            }
            .scroll-container {
                background-image: url('https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/360095ab1196484cb2b634e94bf4427b~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702139&x-signature=QkSIRT%2F0Eado5JBWZt3d3G59XEQ%3D');
                background-size: contain;
                background-repeat: no-repeat;
                background-position: center;
            }
            .nav-item {
                @apply relative px-4 py-2 text-dark hover:text-accent transition-colors duration-300;
            }
            .nav-item::after {
                content: '';
                @apply absolute bottom-0 left-0 w-0 h-0.5 bg-accent transition-all duration-300;
            }
            .nav-item:hover::after {
                @apply w-full;
            }
            .btn-primary {
                @apply bg-accent text-white px-4 py-2 rounded-lg shadow hover:bg-opacity-90 transition-all duration-300 transform hover:scale-105;
            }
            .btn-secondary {
                @apply bg-primary text-dark px-4 py-2 rounded-lg shadow hover:bg-opacity-90 transition-all duration-300 transform hover:scale-105;
            }
            .card {
                @apply bg-white bg-opacity-90 rounded-xl shadow-lg p-4 transition-all duration-300 hover:shadow-xl;
            }
            .attribute-bar {
                @apply h-2 bg-gray-200 rounded-full overflow-hidden;
            }
            .attribute-fill {
                @apply h-full transition-all duration-500;
            }
            .event-card {
                @apply bg-white rounded-lg shadow p-4 mb-3 cursor-pointer transition-all duration-300 hover:shadow-lg;
            }
            .event-card:hover {
                @apply transform -translate-y-1;
            }
            .tab-button {
                @apply px-4 py-2 text-dark border-b-2 border-transparent hover:text-accent transition-colors duration-300;
            }
            .tab-button.active {
                @apply text-accent border-accent;
            }
            .season-icon {
                @apply text-2xl transition-all duration-300;
            }
            .season-icon.active {
                @apply text-accent transform scale-125;
            }
            .map-area {
                @apply absolute cursor-pointer transition-all duration-300 hover:opacity-80;
            }
            .map-area:hover::after {
                content: attr(data-name);
                @apply absolute -bottom-6 left-1/2 transform -translate-x-1/2 bg-dark text-white text-xs px-2 py-1 rounded whitespace-nowrap;
            }
        }
    </style>
</head>
<body class="bg-light font-serif text-dark min-h-screen bg-cover bg-fixed" style="background-image: url('https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/360095ab1196484cb2b634e94bf4427b~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702139&x-signature=QkSIRT%2F0Eado5JBWZt3d3G59XEQ%3D'); background-size: cover; background-position: center;">
    <!-- 顶部时间面板 -->
    <header class="bg-light bg-opacity-90 shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3">
            <div class="flex justify-between items-center">
                <!-- 游戏标题 -->
                <div class="flex items-center">
                    <a href="index.html">
                        <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/83fdc46a4e064461ab31728abbf3934b~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702130&x-signature=2CETffZhAKbw%2Fj%2FRbg6rBznQqws%3D" alt="吾家有女初长成" class="h-10">
                    </a>
                </div>
                
                <!-- 时间信息 -->
                <div class="flex items-center space-x-6">
                    <div class="text-center">
                        <p class="text-sm text-muted">朝代</p>
                        <p id="dynasty" class="font-bold">明朝</p>
                    </div>
                    <div class="text-center">
                        <p class="text-sm text-muted">年号</p>
                        <p id="year-name" class="font-bold">永乐</p>
                    </div>
                    <div class="text-center">
                        <p class="text-sm text-muted">年份</p>
                        <p id="year" class="font-bold">元年</p>
                    </div>
                    <div class="text-center">
                        <p class="text-sm text-muted">季节</p>
                        <div class="flex justify-center space-x-2">
                            <i id="spring" class="fa fa-leaf season-icon active" title="春季"></i>
                            <i id="summer" class="fa fa-sun-o season-icon" title="夏季"></i>
                            <i id="autumn" class="fa fa-leaf season-icon" title="秋季"></i>
                            <i id="winter" class="fa fa-snowflake-o season-icon" title="冬季"></i>
                        </div>
                    </div>
                    <div class="text-center">
                        <p class="text-sm text-muted">年龄</p>
                        <p id="age" class="font-bold">16岁</p>
                    </div>
                </div>
                
                <!-- 菜单按钮 -->
                <div>
                    <button id="menu-button" class="text-dark text-xl hover:text-accent transition-colors">
                        <i class="fa fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- 菜单下拉 -->
        <div id="game-menu" class="hidden bg-white shadow-lg absolute right-4 top-16 rounded-lg overflow-hidden z-50 w-48">
            <ul>
                <li><a href="#" id="save-game" class="block px-4 py-2 hover:bg-light transition-colors"><i class="fa fa-save mr-2"></i>保存游戏</a></li>
                <li><a href="#" id="load-game" class="block px-4 py-2 hover:bg-light transition-colors"><i class="fa fa-folder-open mr-2"></i>读取存档</a></li>
                <li><a href="#" id="settings" class="block px-4 py-2 hover:bg-light transition-colors"><i class="fa fa-cog mr-2"></i>设置</a></li>
                <li><a href="index.html" class="block px-4 py-2 hover:bg-light transition-colors"><i class="fa fa-sign-out mr-2"></i>返回首页</a></li>
            </ul>
        </div>
    </header>

    <!-- 主内容区 -->
    <main class="container mx-auto px-4 py-6">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
            <!-- 左侧信息栏 -->
            <div class="lg:col-span-3 space-y-6">
                <!-- 个人信息卡片 -->
                <div class="card">
                    <h2 class="text-xl font-bold mb-4 text-center">个人信息</h2>
                    <div class="flex flex-col items-center mb-4">
                        <div class="w-24 h-24 rounded-full overflow-hidden mb-2 border-4 border-primary">
                            <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/25f6d868340543d188f2d150151b7263~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702164&x-signature=I7ihkLdA5cCdRuJwTvTMoroFWhk%3D" alt="李昭华" class="w-full h-full object-cover">
                        </div>
                        <h3 id="character-name" class="text-lg font-bold">李昭华</h3>
                        <p class="text-sm text-muted">李家大小姐</p>
                    </div>
                    
                    <div class="space-y-3">
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm">容貌</span>
                                <span class="text-sm font-bold">国色天香</span>
                            </div>
                            <div class="attribute-bar">
                                <div class="attribute-fill bg-primary" style="width: 90%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm">性格</span>
                                <span class="text-sm font-bold">温柔贤淑</span>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm">健康</span>
                                <span class="text-sm font-bold">良好</span>
                            </div>
                            <div class="attribute-bar">
                                <div class="attribute-fill bg-success" style="width: 85%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm">情感</span>
                                <span class="text-sm font-bold">待字闺中</span>
                            </div>
                            <div class="attribute-bar">
                                <div class="attribute-fill bg-love" style="width: 30%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm">资产</span>
                                <span class="text-sm font-bold">中等</span>
                            </div>
                            <div class="attribute-bar">
                                <div class="attribute-fill bg-warning" style="width: 60%"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 技能面板 -->
                <div class="card">
                    <h2 class="text-xl font-bold mb-4 text-center">技能面板</h2>
                    <div class="space-y-3">
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm">诗词</span>
                                <span class="text-sm font-bold">精通 (85)</span>
                            </div>
                            <div class="attribute-bar">
                                <div class="attribute-fill bg-info" style="width: 85%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm">刺绣</span>
                                <span class="text-sm font-bold">熟练 (70)</span>
                            </div>
                            <div class="attribute-bar">
                                <div class="attribute-fill bg-info" style="width: 70%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm">管家</span>
                                <span class="text-sm font-bold">入门 (40)</span>
                            </div>
                            <div class="attribute-bar">
                                <div class="attribute-fill bg-info" style="width: 40%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm">音律</span>
                                <span class="text-sm font-bold">入门 (35)</span>
                            </div>
                            <div class="attribute-bar">
                                <div class="attribute-fill bg-info" style="width: 35%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm">烹饪</span>
                                <span class="text-sm font-bold">初学 (20)</span>
                            </div>
                            <div class="attribute-bar">
                                <div class="attribute-fill bg-info" style="width: 20%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 中间核心内容区 -->
            <div class="lg:col-span-6 space-y-6">
                <!-- 选项卡导航 -->
                <div class="bg-white bg-opacity-90 rounded-t-xl shadow-lg p-2 flex">
                    <button class="tab-button active flex-1 text-center" data-tab="events">年度事件</button>
                    <button class="tab-button flex-1 text-center" data-tab="interactions">人物互动</button>
                    <button class="tab-button flex-1 text-center" data-tab="family">家庭动态</button>
                    <button class="tab-button flex-1 text-center" data-tab="notes">我的手记</button>
                </div>
                
                <!-- 选项卡内容 -->
                <div class="bg-white bg-opacity-90 rounded-b-xl shadow-lg p-4 min-h-[500px]">
                    <!-- 年度事件 -->
                    <div id="events-tab" class="tab-content">
                        <div class="event-card border-l-4 border-info">
                            <div class="flex justify-between items-center mb-2">
                                <h3 class="font-bold text-info">春日诗会</h3>
                                <span class="text-xs text-muted">永乐元年 春</span>
                            </div>
                            <p class="text-sm mb-3">府城举办了一年一度的春日诗会，各家千金都将参加。这是一个展示才华、结交朋友的好机会。</p>
                            <div class="flex justify-end space-x-2">
                                <button class="btn-secondary py-1 px-3 text-sm">
                                    <i class="fa fa-check mr-1"></i>参加诗会
                                </button>
                                <button class="btn-primary py-1 px-3 text-sm">
                                    <i class="fa fa-times mr-1"></i>婉拒邀请
                                </button>
                            </div>
                        </div>
                        
                        <div class="event-card border-l-4 border-warning">
                            <div class="flex justify-between items-center mb-2">
                                <h3 class="font-bold text-warning">慈母教诲</h3>
                                <span class="text-xs text-muted">永乐元年 春</span>
                            </div>
                            <p class="text-sm mb-3">母亲看你已经到了适婚年龄，开始教导你一些为人妻的道理和持家之道。</p>
                            <div class="flex justify-end space-x-2">
                                <button class="btn-secondary py-1 px-3 text-sm">
                                    <i class="fa fa-check mr-1"></i>认真学习
                                </button>
                                <button class="btn-primary py-1 px-3 text-sm">
                                    <i class="fa fa-times mr-1"></i>心不在焉
                                </button>
                            </div>
                        </div>
                        
                        <div class="event-card border-l-4 border-success">
                            <div class="flex justify-between items-center mb-2">
                                <h3 class="font-bold text-success">姐妹相聚</h3>
                                <span class="text-xs text-muted">永乐元年 春</span>
                            </div>
                            <p class="text-sm mb-3">五妹提议姐妹们一起去后花园赏花，顺便比试一下各自的才艺。</p>
                            <div class="flex justify-end space-x-2">
                                <button class="btn-secondary py-1 px-3 text-sm">
                                    <i class="fa fa-check mr-1"></i>欣然前往
                                </button>
                                <button class="btn-primary py-1 px-3 text-sm">
                                    <i class="fa fa-times mr-1"></i>推说有事
                                </button>
                            </div>
                        </div>
                        
                        <div class="event-card border-l-4 border-love">
                            <div class="flex justify-between items-center mb-2">
                                <h3 class="font-bold text-love">陌生公子</h3>
                                <span class="text-xs text-muted">永乐元年 春</span>
                            </div>
                            <p class="text-sm mb-3">在一次外出上香时，你偶遇了一位温文尔雅的公子，他对你的诗词才华表示赞赏。</p>
                            <div class="flex justify-end space-x-2">
                                <button class="btn-secondary py-1 px-3 text-sm">
                                    <i class="fa fa-check mr-1"></i>礼貌回应
                                </button>
                                <button class="btn-primary py-1 px-3 text-sm">
                                    <i class="fa fa-times mr-1"></i>含羞回避
                                </button>
                            </div>
                        </div>
                        
                        <div class="event-card border-l-4 border-danger">
                            <div class="flex justify-between items-center mb-2">
                                <h3 class="font-bold text-danger">突发疾病</h3>
                                <span class="text-xs text-muted">永乐元年 春</span>
                            </div>
                            <p class="text-sm mb-3">你偶感风寒，身体不适。需要好好调养一段时间。</p>
                            <div class="flex justify-end space-x-2">
                                <button class="btn-secondary py-1 px-3 text-sm">
                                    <i class="fa fa-check mr-1"></i>静心调养
                                </button>
                                <button class="btn-primary py-1 px-3 text-sm">
                                    <i class="fa fa-times mr-1"></i>坚持活动
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 人物互动 -->
                    <div id="interactions-tab" class="tab-content hidden">
                        <div class="event-card">
                            <div class="flex items-start">
                                <div class="w-12 h-12 rounded-full overflow-hidden mr-3 flex-shrink-0">
                                    <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/25f6d868340543d188f2d150151b7263~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702164&x-signature=I7ihkLdA5cCdRuJwTvTMoroFWhk%3D" alt="李昭仪" class="w-full h-full object-cover">
                                </div>
                                <div class="flex-1">
                                    <div class="flex justify-between items-center mb-1">
                                        <h3 class="font-bold">李昭仪 <span class="text-xs text-muted">(二姐)</span></h3>
                                        <span class="text-xs text-success">好感度: 85</span>
                                    </div>
                                    <p class="text-sm mb-2">"姐姐，你看我新学的舞蹈如何？我跳给你看好不好？"</p>
                                    <div class="flex justify-end space-x-2">
                                        <button class="btn-secondary py-1 px-3 text-sm">
                                            <i class="fa fa-heart mr-1"></i>称赞鼓励
                                        </button>
                                        <button class="btn-primary py-1 px-3 text-sm">
                                            <i class="fa fa-comment mr-1"></i>给予建议
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="event-card">
                            <div class="flex items-start">
                                <div class="w-12 h-12 rounded-full overflow-hidden mr-3 flex-shrink-0">
                                    <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/25f6d868340543d188f2d150151b7263~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702164&x-signature=I7ihkLdA5cCdRuJwTvTMoroFWhk%3D" alt="李昭容" class="w-full h-full object-cover">
                                </div>
                                <div class="flex-1">
                                    <div class="flex justify-between items-center mb-1">
                                        <h3 class="font-bold">李昭容 <span class="text-xs text-muted">(三姐)</span></h3>
                                        <span class="text-xs text-success">好感度: 90</span>
                                    </div>
                                    <p class="text-sm mb-2">"姐姐，我最近读了一本很有趣的书，想和你分享一下里面的故事..."</p>
                                    <div class="flex justify-end space-x-2">
                                        <button class="btn-secondary py-1 px-3 text-sm">
                                            <i class="fa fa-book mr-1"></i>认真倾听
                                        </button>
                                        <button class="btn-primary py-1 px-3 text-sm">
                                            <i class="fa fa-exchange mr-1"></i>分享己见
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="event-card">
                            <div class="flex items-start">
                                <div class="w-12 h-12 rounded-full overflow-hidden mr-3 flex-shrink-0">
                                    <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/25f6d868340543d188f2d150151b7263~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702164&x-signature=I7ihkLdA5cCdRuJwTvTMoroFWhk%3D" alt="李昭媛" class="w-full h-full object-cover">
                                </div>
                                <div class="flex-1">
                                    <div class="flex justify-between items-center mb-1">
                                        <h3 class="font-bold">李昭媛 <span class="text-xs text-muted">(四姐)</span></h3>
                                        <span class="text-xs text-success">好感度: 75</span>
                                    </div>
                                    <p class="text-sm mb-2">"姐姐，我做了新的刺绣作品，你能帮我看看有没有需要改进的地方吗？"</p>
                                    <div class="flex justify-end space-x-2">
                                        <button class="btn-secondary py-1 px-3 text-sm">
                                            <i class="fa fa-thumbs-up mr-1"></i>赞赏不已
                                        </button>
                                        <button class="btn-primary py-1 px-3 text-sm">
                                            <i class="fa fa-pencil mr-1"></i>细心指导
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="event-card">
                            <div class="flex items-start">
                                <div class="w-12 h-12 rounded-full overflow-hidden mr-3 flex-shrink-0">
                                    <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/25f6d868340543d188f2d150151b7263~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702164&x-signature=I7ihkLdA5cCdRuJwTvTMoroFWhk%3D" alt="李昭宁" class="w-full h-full object-cover">
                                </div>
                                <div class="flex-1">
                                    <div class="flex justify-between items-center mb-1">
                                        <h3 class="font-bold">李昭宁 <span class="text-xs text-muted">(五妹)</span></h3>
                                        <span class="text-xs text-success">好感度: 95</span>
                                    </div>
                                    <p class="text-sm mb-2">"大姐~我想吃你做的桂花糕了，你什么时候有空做给我吃呀？"</p>
                                    <div class="flex justify-end space-x-2">
                                        <button class="btn-secondary py-1 px-3 text-sm">
                                            <i class="fa fa-cutlery mr-1"></i>立即去做
                                        </button>
                                        <button class="btn-primary py-1 px-3 text-sm">
                                            <i class="fa fa-calendar mr-1"></i>约定时间
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 家庭动态 -->
                    <div id="family-tab" class="tab-content hidden">
                        <div class="bg-light p-4 rounded-lg mb-4">
                            <h3 class="font-bold mb-2 text-center">李家小报</h3>
                            <div class="text-sm space-y-3">
                                <p><span class="text-info">● 父亲</span> 最近因工作繁忙，经常早出晚归，但仍不忘关心女儿们的学业。</p>
                                <p><span class="text-love">● 母亲</span> 正在筹备下个月的家宴，据说会有重要客人来访。</p>
                                <p><span class="text-success">● 二姐</span> 最近迷上了新的舞蹈，每日练习不辍。</p>
                                <p><span class="text-warning">● 三姐</span> 因读书过度，眼睛有些不适，正在调养中。</p>
                                <p><span class="text-primary">● 四姐</span> 新绣的牡丹图受到了母亲的赞赏，被挂在了客厅。</p>
                                <p><span class="text-danger">● 五妹</span> 前几日偷偷溜出后花园，被母亲发现后教训了一顿。</p>
                            </div>
                        </div>
                        
                        <div class="event-card">
                            <div class="flex justify-between items-center mb-2">
                                <h3 class="font-bold text-info">家族会议</h3>
                                <span class="text-xs text-muted">永乐元年 春</span>
                            </div>
                            <p class="text-sm mb-3">父亲召集全家开会，宣布下个月将有重要客人来访，希望大家做好准备。</p>
                            <div class="flex justify-end space-x-2">
                                <button class="btn-secondary py-1 px-3 text-sm">
                                    <i class="fa fa-check mr-1"></i>积极准备
                                </button>
                                <button class="btn-primary py-1 px-3 text-sm">
                                    <i class="fa fa-question mr-1"></i>询问详情
                                </button>
                            </div>
                        </div>
                        
                        <div class="event-card">
                            <div class="flex justify-between items-center mb-2">
                                <h3 class="font-bold text-warning">家族资产变动</h3>
                                <span class="text-xs text-muted">永乐元年 春</span>
                            </div>
                            <p class="text-sm mb-3">因父亲在朝中表现出色，皇上赏赐了一些财物，家族资产有所增加。</p>
                            <div class="flex justify-end space-x-2">
                                <button class="btn-secondary py-1 px-3 text-sm">
                                    <i class="fa fa-smile-o mr-1"></i>恭喜父亲
                                </button>
                                <button class="btn-primary py-1 px-3 text-sm">
                                    <i class="fa fa-money mr-1"></i>了解详情
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 我的手记 -->
                    <div id="notes-tab" class="tab-content hidden">
                        <div class="bg-light p-4 rounded-lg mb-4">
                            <div class="flex justify-between items-center mb-2">
                                <h3 class="font-bold">我的手记</h3>
                                <button class="text-accent hover:text-dark transition-colors">
                                    <i class="fa fa-plus-circle"></i> 新建
                                </button>
                            </div>
                            <div class="space-y-3">
                                <div class="bg-white p-3 rounded-lg shadow-sm">
                                    <div class="flex justify-between items-center mb-1">
                                        <h4 class="font-bold text-sm">春日感怀</h4>
                                        <span class="text-xs text-muted">永乐元年 春</span>
                                    </div>
                                    <p class="text-xs">今日春光明媚，与姐妹们在后花园赏花，心情愉悦。偶得诗句："桃花嫣然出篱笑，似开未开最有情。"</p>
                                </div>
                                <div class="bg-white p-3 rounded-lg shadow-sm">
                                    <div class="flex justify-between items-center mb-1">
                                        <h4 class="font-bold text-sm">母亲的教导</h4>
                                        <span class="text-xs text-muted">永乐元年 春</span>
                                    </div>
                                    <p class="text-xs">母亲今日教导我为人妻的道理，虽觉尚早，但也受益匪浅。需谨记："妇德、妇言、妇容、妇功"乃女子立身之本。</p>
                                </div>
                                <div class="bg-white p-3 rounded-lg shadow-sm">
                                    <div class="flex justify-between items-center mb-1">
                                        <h4 class="font-bold text-sm">诗会见闻</h4>
                                        <span class="text-xs text-muted">永乐元年 春</span>
                                    </div>
                                    <p class="text-xs">参加府城春日诗会，见到许多才貌双全的女子，也结识了一些新朋友。其中张府的小姐诗词造诣颇深，值得学习。</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="event-card">
                            <div class="flex justify-between items-center mb-2">
                                <h3 class="font-bold text-primary">新建手记</h3>
                            </div>
                            <div class="mb-3">
                                <input type="text" placeholder="标题" class="w-full p-2 border rounded mb-2 text-sm">
                                <textarea placeholder="记录今日的心情和感悟..." class="w-full p-2 border rounded h-24 text-sm"></textarea>
                            </div>
                            <div class="flex justify-end space-x-2">
                                <button class="btn-secondary py-1 px-3 text-sm">
                                    <i class="fa fa-save mr-1"></i>保存
                                </button>
                                <button class="btn-primary py-1 px-3 text-sm">
                                    <i class="fa fa-times mr-1"></i>取消
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 右侧功能区 -->
            <div class="lg:col-span-3 space-y-6">
                <!-- 新人物登场 -->
                <div class="card">
                    <h2 class="text-xl font-bold mb-4 text-center">新人物登场</h2>
                    <div class="bg-light p-3 rounded-lg mb-3">
                        <div class="flex items-start">
                            <div class="w-12 h-12 rounded-full overflow-hidden mr-3 flex-shrink-0">
                                <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/25f6d868340543d188f2d150151b7263~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702164&x-signature=I7ihkLdA5cCdRuJwTvTMoroFWhk%3D" alt="张信之" class="w-full h-full object-cover">
                            </div>
                            <div>
                                <h3 class="font-bold">张信之</h3>
                                <p class="text-xs text-muted">20岁 · 张府公子</p>
                                <button id="view-character" class="text-xs text-accent hover:underline mt-1">查看详情</button>
                            </div>
                        </div>
                    </div>
                    <div class="bg-light p-3 rounded-lg">
                        <div class="flex items-start">
                            <div class="w-12 h-12 rounded-full overflow-hidden mr-3 flex-shrink-0">
                                <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/25f6d868340543d188f2d150151b7263~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702164&x-signature=I7ihkLdA5cCdRuJwTvTMoroFWhk%3D" alt="王夫人" class="w-full h-full object-cover">
                            </div>
                            <div>
                                <h3 class="font-bold">陈嬷嬷</h3>
                                <p class="text-xs text-muted">45岁 · 新请来的教养嬷嬷</p>
                                <button class="text-xs text-accent hover:underline mt-1">查看详情</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 事件记录回顾 -->
                <div class="card">
                    <h2 class="text-xl font-bold mb-4 text-center">事件记录</h2>
                    <div class="space-y-2 max-h-48 overflow-y-auto">
                        <div class="text-xs p-2 bg-light rounded-lg">
                            <span class="text-info">● 春日诗会</span> - 你参加了府城的春日诗会，展示了自己的诗词才华。
                        </div>
                        <div class="text-xs p-2 bg-light rounded-lg">
                            <span class="text-warning">● 慈母教诲</span> - 母亲教导你为人妻的道理和持家之道。
                        </div>
                        <div class="text-xs p-2 bg-light rounded-lg">
                            <span class="text-success">● 姐妹相聚</span> - 你和姐妹们一起在花园赏花，度过了愉快的时光。
                        </div>
                        <div class="text-xs p-2 bg-light rounded-lg">
                            <span class="text-love">● 陌生公子</span> - 你在寺庙上香时偶遇了张信之公子。
                        </div>
                        <div class="text-xs p-2 bg-light rounded-lg">
                            <span class="text-danger">● 突发疾病</span> - 你偶感风寒，身体不适，需要调养。
                        </div>
                    </div>
                </div>
                
                <!-- 书信箱 -->
                <div class="card">
                    <h2 class="text-xl font-bold mb-4 text-center">书信箱</h2>
                    <div class="space-y-2">
                        <div class="bg-light p-2 rounded-lg flex items-center cursor-pointer hover:bg-opacity-70 transition-colors">
                            <i class="fa fa-envelope text-accent mr-2"></i>
                            <div>
                                <p class="text-sm font-bold">张府小姐的邀请</p>
                                <p class="text-xs text-muted">邀请你参加下月的赏花会</p>
                            </div>
                        </div>
                        <div class="bg-light p-2 rounded-lg flex items-center cursor-pointer hover:bg-opacity-70 transition-colors">
                            <i class="fa fa-envelope text-accent mr-2"></i>
                            <div>
                                <p class="text-sm font-bold">父亲的家书</p>
                                <p class="text-xs text-muted">告知近期公务繁忙，可能晚归</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 家宅地图 -->
                <div class="card">
                    <h2 class="text-xl font-bold mb-4 text-center">家宅地图</h2>
                    <div class="relative w-full h-48">
                        <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/1cf53248a2b140e99d5bb4f6a66c161d~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702150&x-signature=kbGzrUpHQ7IEklc6qaYC%2FCP6d08%3D" alt="家宅地图" class="w-full h-full object-contain">
                        
                        <!-- 可点击区域 -->
                        <div class="map-area" style="top: 20%; left: 20%; width: 20%; height: 20%;" data-name="闺房"></div>
                        <div class="map-area" style="top: 20%; left: 60%; width: 20%; height: 20%;" data-name="花园"></div>
                        <div class="map-area" style="top: 60%; left: 20%; width: 20%; height: 20%;" data-name="厨房"></div>
                        <div class="map-area" style="top: 60%; left: 60%; width: 20%; height: 20%;" data-name="客厅"></div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 底部操作栏 -->
    <footer class="bg-light bg-opacity-90 shadow-md py-4 px-4 sticky bottom-0 z-40">
        <div class="container mx-auto">
            <div class="flex flex-wrap justify-center items-center gap-4">
                <button id="next-year" class="btn-primary flex items-center">
                    <i class="fa fa-forward mr-2"></i>推进下一年
                </button>
                <button id="view-relationships" class="btn-secondary flex items-center">
                    <i class="fa fa-users mr-2"></i>人物关系
                </button>
                <button id="view-skills" class="btn-secondary flex items-center">
                    <i class="fa fa-graduation-cap mr-2"></i>资产技能
                </button>
                <button id="review-events" class="btn-secondary flex items-center">
                    <i class="fa fa-history mr-2"></i>回顾事件
                </button>
                <button id="new-game" class="btn-secondary flex items-center">
                    <i class="fa fa-refresh mr-2"></i>重开新人生
                </button>
                <div class="flex space-x-2">
                    <button id="save-game-bottom" class="btn-secondary flex items-center">
                        <i class="fa fa-save mr-1"></i>存档
                    </button>
                    <button id="load-game-bottom" class="btn-secondary flex items-center">
                        <i class="fa fa-folder-open mr-1"></i>读档
                    </button>
                </div>
            </div>
        </div>
    </footer>

    <!-- 人物详情模态框 -->
    <div id="character-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
        <div class="bg-light rounded-xl shadow-2xl p-6 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold text-dark">人物详情</h3>
                <button id="close-character-modal" class="text-dark hover:text-accent text-2xl">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            
            <div class="flex flex-col items-center mb-6">
                <div class="w-32 h-32 rounded-full overflow-hidden mb-3 border-4 border-primary">
                    <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/25f6d868340543d188f2d150151b7263~tplv-a9rns2rl98-image.image?lk3s=8e244e95&rcl=20260203171430D707EE8A458D6B00288E&rrcfp=f06b921b&x-expires=1772702164&x-signature=I7ihkLdA5cCdRuJwTvTMoroFWhk%3D" alt="张信之" class="w-full h-full object-cover">
                </div>
                <h4 class="text-xl font-bold">张信之</h4>
                <p class="text-muted">张府公子 · 20岁</p>
            </div>
            
            <div class="space-y-4">
                <div>
                    <h5 class="font-bold mb-1">身份背景</h5>
                    <p class="text-sm">张府是当地的名门望族，张信之是张府的独子，父亲在朝中担任要职。</p>
                </div>
                <div>
                    <h5 class="font-bold mb-1">容貌</h5>
                    <p class="text-sm">仪表堂堂，玉树临风，是许多女子心中的理想夫婿。</p>
                    <div class="attribute-bar mt-1">
                        <div class="attribute-fill bg-primary" style="width: 85%"></div>
                    </div>
                </div>
                <div>
                    <h5 class="font-bold mb-1">性格</h5>
                    <p class="text-sm">温文尔雅，学识渊博，待人谦和有礼，有君子之风。</p>
                </div>
                <div>
                    <h5 class="font-bold mb-1">技能</h5>
                    <div class="grid grid-cols-2 gap-2 text-sm">
                        <div>
                            <div class="flex justify-between">
                                <span>诗词</span>
                                <span>精通</span>
                            </div>
                            <div class="attribute-bar">
                                <div class="attribute-fill bg-info" style="width: 90%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between">
                                <span>书法</span>
                                <span>熟练</span>
                            </div>
                            <div class="attribute-bar">
                                <div class="attribute-fill bg-info" style="width: 80%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between">
                                <span>骑马</span>
                                <span>熟练</span>
                            </div>
                            <div class="attribute-bar">
                                <div class="attribute-fill bg-info" style="width: 75%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between">
                                <span>弹琴</span>
                                <span>入门</span>
                            </div>
                            <div class="attribute-bar">
                                <div class="attribute-fill bg-info" style="width: 60%"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <h5 class="font-bold mb-1">与主角关系</h5>
                    <p class="text-sm">在寺庙上香时偶然相遇，对主角的诗词才华表示赞赏，目前只是点头之交。</p>
                    <div class="flex items-center mt-1">
                        <span class="text-sm mr-2">好感度:</span>
                        <div class="attribute-bar flex-1">
                            <div class="attribute-fill bg-love" style="width: 40%"></div>
                        </div>
                        <span class="text-sm ml-2">40</span>
                    </div>
                </div>
                <div>
                    <h5 class="font-bold mb-1">近期动态</h5>
                    <p class="text-sm">即将参加科举考试，正在家中刻苦读书。</p>
                </div>
            </div>
            
            <div class="mt-6 flex justify-end">
                <button id="close-character-btn" class="px-4 py-2 bg-accent text-white rounded-lg hover:bg-opacity-90 transition-colors">
                    关闭
                </button>
            </div>
        </div>
    </div>

    <!-- 存档模态框 -->
    <div id="save-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
        <div class="bg-light rounded-xl shadow-2xl p-6 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold text-dark">保存游戏</h3>
                <button id="close-save-modal" class="text-dark hover:text-accent text-2xl">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            
            <div class="space-y-4">
                <div class="save-slot bg-white rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow cursor-pointer">
                    <div class="flex justify-between items-center mb-2">
                        <h4 class="font-bold text-dark">存档位 1</h4>
                        <span class="text-sm text-muted">2025-07-21 14:30</span>
                    </div>
                    <p class="text-sm">李氏家族，李昭华，16岁，永乐元年春</p>
                </div>
                
                <div class="save-slot bg-white rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow cursor-pointer">
                    <div class="flex justify-between items-center mb-2">
                        <h4 class="font-bold text-dark">存档位 2</h4>
                        <span class="text-sm text-muted">2025-07-20 09:15</span>
                    </div>
                    <p class="text-sm">王氏家族，王昭仪，15岁，康熙五年秋</p>
                </div>
                
                <div class="save-slot bg-white rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow cursor-pointer">
                    <div class="flex justify-between items-center mb-2">
                        <h4 class="font-bold text-dark">存档位 3</h4>
                        <span class="text-sm text-muted">2025-07-19 18:45</span>
                    </div>
                    <p class="text-sm">张氏家族，张昭容，14岁，乾隆三年冬</p>
                </div>
            </div>
            
            <div class="mt-6 flex justify-end">
                <button id="cancel-save" class="px-4 py-2 bg-gray-300 text-dark rounded-lg hover:bg-gray-400 transition-colors mr-2">
                    取消
                </button>
                <button id="confirm-save" class="px-4 py-2 bg-accent text-white rounded-lg hover:bg-opacity-90 transition-colors">
                    保存
                </button>
            </div>
        </div>
    </div>

    <!-- 读档模态框 -->
    <div id="load-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
        <div class="bg-light rounded-xl shadow-2xl p-6 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold text-dark">读取存档</h3>
                <button id="close-load-modal" class="text-dark hover:text-accent text-2xl">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            
            <div class="space-y-4">
                <div class="save-slot bg-white rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow cursor-pointer">
                    <div class="flex justify-between items-center mb-2">
                        <h4 class="font-bold text-dark">存档位 1</h4>
                        <span class="text-sm text-muted">2025-07-21 14:30</span>
                    </div>
                    <p class="text-sm">李氏家族，李昭华，16岁，永乐元年春</p>
                </div>
                
                <div class="save-slot bg-white rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow cursor-pointer">
                    <div class="flex justify-between items-center mb-2">
                        <h4 class="font-bold text-dark">存档位 2</h4>
                        <span class="text-sm text-muted">2025-07-20 09:15</span>
                    </div>
                    <p class="text-sm">王氏家族，王昭仪，15岁，康熙五年秋</p>
                </div>
                
                <div class="save-slot bg-white rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow cursor-pointer">
                    <div class="flex justify-between items-center mb-2">
                        <h4 class="font-bold text-dark">存档位 3</h4>
                        <span class="text-sm text-muted">2025-07-19 18:45</span>
                    </div>
                    <p class="text-sm">张氏家族，张昭容，14岁，乾隆三年冬</p>
                </div>
            </div>
            
            <div class="mt-6 flex justify-end">
                <button id="cancel-load" class="px-4 py-2 bg-gray-300 text-dark rounded-lg hover:bg-gray-400 transition-colors mr-2">
                    取消
                </button>
                <button id="confirm-load" class="px-4 py-2 bg-accent text-white rounded-lg hover:bg-opacity-90 transition-colors">
                    读取
                </button>
            </div>
        </div>
    </div>

    <!-- 推进下一年模态框 -->
    <div id="next-year-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
        <div class="bg-light rounded-xl shadow-2xl p-6 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold text-dark">推进到下一年</h3>
                <button id="close-next-year-modal" class="text-dark hover:text-accent text-2xl">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            
            <div class="bg-white p-4 rounded-lg mb-4">
                <p class="text-center mb-2">你确定要推进到下一年吗？</p>
                <p class="text-sm text-muted text-center">当前进度：永乐元年 春</p>
                <p class="text-sm text-muted text-center">将推进至：永乐元年 夏</p>
            </div>
            
            <div class="space-y-3">
                <div class="flex items-center">
                    <i class="fa fa-info-circle text-info mr-2"></i>
                    <p class="text-sm">时间将前进一个季节</p>
                </div>
                <div class="flex items-center">
                    <i class="fa fa-info-circle text-info mr-2"></i>
                    <p class="text-sm">可能会触发新的随机事件</p>
                </div>
                <div class="flex items-center">
                    <i class="fa fa-info-circle text-info mr-2"></i>
                    <p class="text-sm">角色属性和技能可能会有变化</p>
                </div>
            </div>
            
            <div class="mt-6 flex justify-end">
                <button id="cancel-next-year" class="px-4 py-2 bg-gray-300 text-dark rounded-lg hover:bg-gray-400 transition-colors mr-2">
                    取消
                </button>
                <button id="confirm-next-year" class="px-4 py-2 bg-accent text-white rounded-lg hover:bg-opacity-90 transition-colors">
                    确认推进
                </button>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // 菜单下拉
        document.getElementById('menu-button').addEventListener('click', function() {
            const gameMenu = document.getElementById('game-menu');
            gameMenu.classList.toggle('hidden');
        });
        
        // 点击页面其他地方关闭菜单
        document.addEventListener('click', function(event) {
            const gameMenu = document.getElementById('game-menu');
            const menuButton = document.getElementById('menu-button');
            
            if (!gameMenu.contains(event.target) && event.target !== menuButton && !menuButton.contains(event.target)) {
                gameMenu.classList.add('hidden');
            }
        });
        
        // 选项卡切换
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');
        
        tabButtons.forEach(button => {
            button.addEventListener('click', function() {
                const tabId = this.getAttribute('data-tab');
                
                // 移除所有选项卡按钮的活动状态
                tabButtons.forEach(btn => btn.classList.remove('active'));
                // 添加当前按钮的活动状态
                this.classList.add('active');
                
                // 隐藏所有选项卡内容
                tabContents.forEach(content => content.classList.add('hidden'));
                // 显示当前选项卡内容
                document.getElementById(tabId + '-tab').classList.remove('hidden');
            });
        });
        
        // 季节图标切换
        const seasonIcons = document.querySelectorAll('.season-icon');
        let currentSeason = 0;
        
        function updateSeasonIcon(index) {
            seasonIcons.forEach((icon, i) => {
                icon.classList.remove('active');
                if (i === index) {
                    icon.classList.add('active');
                }
            });
        }
        
        // 人物详情模态框
        document.getElementById('view-character').addEventListener('click', function() {
            document.getElementById('character-modal').classList.remove('hidden');
        });
        
        document.getElementById('close-character-modal').addEventListener('click', function() {
            document.getElementById('character-modal').classList.add('hidden');
        });
        
        document.getElementById('close-character-btn').addEventListener('click', function() {
            document.getElementById('character-modal').classList.add('hidden');
        });
        
        // 存档模态框
        document.getElementById('save-game').addEventListener('click', function() {
            document.getElementById('save-modal').classList.remove('hidden');
            document.getElementById('game-menu').classList.add('hidden');
        });
        
        document.getElementById('save-game-bottom').addEventListener('click', function() {
            document.getElementById('save-modal').classList.remove('hidden');
        });
        
        document.getElementById('close-save-modal').addEventListener('click', function() {
            document.getElementById('save-modal').classList.add('hidden');
        });
        
        document.getElementById('cancel-save').addEventListener('click', function() {
            document.getElementById('save-modal').classList.add('hidden');
        });
        
        document.getElementById('confirm-save').addEventListener('click', function() {
            const selectedSlot = document.querySelector('.save-slot.ring-2');
            if (selectedSlot) {
                // 这里应该有保存游戏的逻辑
                alert('游戏已保存！');
                document.getElementById('save-modal').classList.add('hidden');
            } else {
                alert('请选择一个存档位');
            }
        });
        
        // 点击存档槽
        document.querySelectorAll('.save-slot').forEach((slot, index) => {
            slot.addEventListener('click', function() {
                document.querySelectorAll('.save-slot').forEach(s => {
                    s.classList.remove('ring-2', 'ring-accent');
                });
                this.classList.add('ring-2', 'ring-accent');
            });
        });
        
        // 读档模态框
        document.getElementById('load-game').addEventListener('click', function() {
            document.getElementById('load-modal').classList.remove('hidden');
            document.getElementById('game-menu').classList.add('hidden');
        });
        
        document.getElementById('load-game-bottom').addEventListener('click', function() {
            document.getElementById('load-modal').classList.remove('hidden');
        });
        
        document.getElementById('close-load-modal').addEventListener('click', function() {
            document.getElementById('load-modal').classList.add('hidden');
        });
        
        document.getElementById('cancel-load').addEventListener('click', function() {
            document.getElementById('load-modal').classList.add('hidden');
        });
        
        document.getElementById('confirm-load').addEventListener('click', function() {
            const selectedSlot = document.querySelector('#load-modal .save-slot.ring-2');
            if (selectedSlot) {
                // 这里应该有读取存档的逻辑
                alert('存档读取中...');
                document.getElementById('load-modal').classList.add('hidden');
            } else {
                alert('请选择一个存档');
            }
        });
        
        // 推进下一年模态框
        document.getElementById('next-year').addEventListener('click', function() {
            document.getElementById('next-year-modal').classList.remove('hidden');
        });
        
        document.getElementById('close-next-year-modal').addEventListener('click', function() {
            document.getElementById('next-year-modal').classList.add('hidden');
        });
        
        document.getElementById('cancel-next-year').addEventListener('click', function() {
            document.getElementById('next-year-modal').classList.add('hidden');
        });
        
        document.getElementById('confirm-next-year').addEventListener('click', function() {
            // 这里应该有推进时间的逻辑
            currentSeason = (currentSeason + 1) % 4;
            updateSeasonIcon(currentSeason);
            
            // 如果是新的一年，更新年份和年龄
            if (currentSeason === 0) {
                const yearElement = document.getElementById('year');
                const currentYear = parseInt(yearElement.textContent);
                yearElement.textContent = (currentYear + 1) + '年';
                
                const ageElement = document.getElementById('age');
                const currentAge = parseInt(ageElement.textContent);
                ageElement.textContent = (currentAge + 1) + '岁';
            }
            
            alert('时间已推进！');
            document.getElementById('next-year-modal').classList.add('hidden');
        });
        
        // 其他按钮事件
        document.getElementById('view-relationships').addEventListener('click', function() {
            alert('查看人物关系网');
        });
        
        document.getElementById('view-skills').addEventListener('click', function() {
            alert('查看资产技能详情');
        });
        
        document.getElementById('review-events').addEventListener('click', function() {
            alert('回顾历史事件');
        });
        
        document.getElementById('new-game').addEventListener('click', function() {
            if (confirm('确定要重开新人生吗？当前进度将会丢失！')) {
                window.location.href = 'create-role.html';
            }
        });
        
        // 家宅地图点击事件
        document.querySelectorAll('.map-area').forEach(area => {
            area.addEventListener('click', function() {
                const location = this.getAttribute('data-name');
                alert(`你来到了${location}，触发了随机事件...`);
            });
        });
        
        // 事件卡片点击事件
        document.querySelectorAll('.event-card').forEach(card => {
            card.addEventListener('click', function() {
                // 这里可以添加事件详情展示逻辑
                // 或者直接处理按钮点击事件
            });
        });
        
        // 初始化游戏数据
        function initGameData() {
            // 从localStorage获取游戏数据
            const gameData = JSON.parse(localStorage.getItem('gameData')) || {};
            
            // 更新UI显示
            document.getElementById('dynasty').textContent = gameData.dynasty || '明朝';
            document.getElementById('year-name').textContent = gameData.yearName || '永乐';
            document.getElementById('year').textContent = gameData.currentYear ? gameData.currentYear + '年' : '元年';
            document.getElementById('age').textContent = gameData.currentAge ? gameData.currentAge + '岁' : '16岁';
            document.getElementById('character-name').textContent = gameData.characterName || '李昭华';
            
            // 设置当前季节
            currentSeason = gameData.currentSeason || 0;
            updateSeasonIcon(currentSeason);
        }
        
        // 页面加载完成后初始化游戏数据
        window.addEventListener('DOMContentLoaded', initGameData);
    </script>
</body>
</html>